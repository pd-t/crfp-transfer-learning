schema: '2.0'
stages:
  load:
    cmd: PYTHONPATH="." python3 src/load.py
    deps:
    - path: src/load.py
      md5: 8afc1eca3fc8957d454925eff539a310
      size: 1813
    params:
      params.yaml:
        data.remote.s3_bucket: data
        data.remote.s3_endpoint: https://storage.s3.mlops.wogra.com
        data.remote.s3_path: dlr/my_best_tapelegen_model.zip
    outs:
    - path: data/load.dir
      md5: af8331560f6eff828e8a443f0b0a2d3f.dir
      size: 26497564
      nfiles: 3
  prepare:
    cmd: PYTHONPATH="." python src/prepare.py
    deps:
    - path: data/load.dir
      md5: ab7ebaf0960708e590cf5a389ec08b0b.dir
      size: 26524244
      nfiles: 10
    - path: src/prepare.py
      md5: 2bbf51ab757b198c8e2bf64b9210d885
      size: 1164
    outs:
    - path: data/prepare.dir
      md5: 4a969f56558203e8e03c5f85546b7d5f.dir
      size: 2196771
      nfiles: 3
  train:
    cmd: PYTHONPATH="." python src/train.py
    deps:
    - path: data/prepare.dir
      md5: c5c3d9fa5cc056883ec947646ca54585.dir
      size: 2199979
      nfiles: 7
    - path: src/train.py
      md5: cdbccda0df3c7b448e7ff060c32c3448
      size: 3813
    outs:
    - path: data/train.dir
      md5: 2743416628bda8971f1ff8ba2d69a17e.dir
      size: 345475986
      nfiles: 14
